<ion-header>

  <ion-navbar>
    <ion-title *ngIf="index < 0">Agregar Cliente <span *ngIf="isProspecto">{{ textoProspecto }}</span></ion-title>
    <ion-title *ngIf="index >= 0"> 
        <span *ngIf="isProspecto">Editar</span> <span *ngIf="!isProspecto">Listar</span>
       Cliente <span *ngIf="isProspecto">{{ textoProspecto }}</span></ion-title>
  </ion-navbar>

</ion-header>


<ion-content>  
	<ion-label class="usuario">  {{ nombreUsuario }} </ion-label>
	<form [formGroup]="myForm" (ngSubmit)="guardar()" padding>
      <ion-list>
        
          <ion-input type="hidden" formControlName="id_clientes" [(ngModel)]="id_clientes" ></ion-input>
          <ion-input type="hidden" formControlName="estado" [(ngModel)]="estado" ></ion-input>
          <ion-input type="hidden" formControlName="vendedor" [(ngModel)]="vendedor" ></ion-input>
        <ion-item>
          <ion-label class="descripcion" floating>Nombre</ion-label>
          <ion-input type="text" formControlName="nombre" [(ngModel)]="nombre" [disabled]="opcion == 0" ></ion-input>
        </ion-item>
        <ion-item *ngIf="myForm.get('nombre').errors && myForm.get('nombre').dirty">
		  <p color="danger" ion-text *ngIf="myForm.get('nombre').hasError('required')">Ingrese un nombre</p>
		</ion-item>
    <ion-item>
		  <ion-label class="descripcion">Tipo documento</ion-label>
		  <ion-select  formControlName="tipo_documento" [(ngModel)]="tipo_documento" [disabled]="opcion == 0" >
		    <ion-option value="1" >RUC</ion-option>
		    <ion-option value="2">DNI</ion-option>
		  </ion-select>
		</ion-item>
		<ion-item *ngIf="myForm.get('tipo_documento').errors && myForm.get('tipo_documento').dirty">
		  <p color="danger" ion-text *ngIf="myForm.get('tipo_documento').hasError('required')">Seleccione un tipo de documento</p>
		</ion-item>
        <ion-item>
          <ion-label class="descripcion" floating>Documento</ion-label>
          <ion-input type="number" formControlName="documento" [(ngModel)]="documento" [disabled]="opcion == 0" ></ion-input>
        </ion-item>
        <ion-item *ngIf="myForm.get('documento').errors && myForm.get('documento').dirty">
		  <p color="danger" ion-text *ngIf="myForm.get('documento').hasError('required')">Ingrese un documento</p>
		  <p color="danger" ion-text *ngIf="myForm.get('documento').hasError('minlength')">Mínimo 8 números</p>
		  <p color="danger" ion-text *ngIf="myForm.get('documento').hasError('maxlength')">Máximo 11 números</p>
		</ion-item>
        <ion-item>
          <ion-label class="descripcion" floating>Dirección</ion-label>
          <ion-input type="text" formControlName="direccion" [(ngModel)]="direccion" [disabled]="opcion == 0" ></ion-input>
        </ion-item>
        <!--<ion-item *ngIf="myForm.get('direccion').errors && myForm.get('direccion').dirty">
		    <p color="danger" ion-text *ngIf="myForm.get('direccion').hasError('required')">Ingrese una dirección</p>
		  
		</ion-item>-->
        <ion-item>
          <ion-label class="descripcion" floating>Teléfono</ion-label>
          <ion-input type="number" formControlName="telefono" [(ngModel)]="telefono" [disabled]="opcion == 0" ></ion-input>
        </ion-item>
        <ion-item>
          <ion-label class="descripcion" floating>E-mail</ion-label>
          <ion-input type="email" formControlName="email" [(ngModel)]="email" [disabled]="opcion == 0" ></ion-input>
        </ion-item>
        <ion-item *ngIf="myForm.get('email').errors && myForm.get('email').dirty">
		  <p color="danger" ion-text *ngIf="myForm.get('email').hasError('email')">Ingrese un E-mail válido</p>
		</ion-item>
      </ion-list>
      <div padding>
          <button *ngIf="index < 0" block ion-button class="button button-outline button-positive" type="submit" [disabled]="myForm.invalid" >Guardar</button>
          <button *ngIf="index >= 0 && opcion == 1 " block ion-button class="button button-outline button-positive" type="submit" [disabled]="myForm.invalid" >Actualizar</button>
      </div>
  </form>

</ion-content>
